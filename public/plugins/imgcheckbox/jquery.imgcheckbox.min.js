!function(i){i.fn.imgCheckbox=function(n){var e=i.extend({width:"auto",height:"auto",min_width:"35px",textColor:"white",overlayBgColor:"",overlayOpacity:"0.4",round:!0,animation:!0,animationDuration:300,animationArray:["scale"],uncheckPath:"",checkPath:""},n),t={toggleCheckbox:function(n){var e=n,o=i('input[type="checkbox"]',e);o.prop("checked")?(o.prop("checked",!1),o.trigger("change"),t.repaintCheckbox(e)):(o.prop("checked",!0),o.trigger("change"),t.repaintCheckbox(e))},repaintCheckbox:function(n){var t=n,o=i('input[type="checkbox"]',t),a=i(".checkbox-overlay",t),c=i("figcaption",t),s=!1;!0===e.animation?s=e.animationArray[0]:i.inArray(e.animation,e.animationArray)>-1&&(s=e.animation),s&&(t.css("animation-duration",e.animationDuration+"ms").addClass("imgcheckbox-animate-"+s),"none"!=t.css("animation-name")?t.one("animationend",function(){t.removeClass("imgcheckbox-animate-"+s)}):console.error('To use animations include the file "animation.imgcheckbox.min.css" in the head tag!')),o.prop("checked")?(s?a.fadeIn(e.animationDuration):a.show(),s?c.fadeIn(e.animationDuration):c.show()):(s?a.fadeOut(e.animationDuration):a.hide(),s?c.fadeOut(e.animationDuration):c.hide())}};return this.each(function(n,o){var a=i(o);a.wrap("<label />");var c=a.parent();c.wrap("<figure />");var s=c.parent();s.append("<div class='figure-content'><img src='"+e.uncheckPath+"'></div>"),s.append("<figcaption><img src='"+e.checkPath+"'></figcaption>");var r=i("div.figure-content",s),h=i("figcaption",s),d=i("label",s),l=i('input[type="checkbox"]',s),p=i('<div class="checkbox-overlay"></div>').appendTo(s);if(s.length<1||r.length<1||h.length<1)return!0;e.round&&s.css("border-radius","50%"),s.css("display","inline-flex").css("justify-content","center").css("align-items","center").css("position","relative").css("overflow","hidden").css("cursor","pointer").css("min-width",e.min_width).css("width",e.width).css("height",e.height),r.css("display","inline-flex").css("width",e.width).css("height",e.height),p.css("position","absolute").css("top",0).css("left",0).css("right",0).css("bottom",0).css("opacity",e.overlayOpacity).css("background-color",e.overlayBgColor).css("z-index",1),h.css("position","absolute").css("top",0).css("left",0).css("right",0).css("bottom",0).css("display","inline-flex").css("justify-content","center").css("align-items","center").css("color",e.textColor).css("z-index",2),d.length>0?d.css("display","none"):l.css("display","none"),l.prop("checked")||(p.hide(),h.hide()),s.bind("click.imgCheckbox",function(){t.toggleCheckbox(i(this))}),l.on("update",function(){t.repaintCheckbox(s)})})}}(jQuery);